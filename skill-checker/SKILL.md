---
name: skill-checker
description: 作成したスキルを10点満点で評価し、修正案を提示する。スキルの目的達成度、構造、記述品質、トリガー設計などを多角的に診断。トリガー：「スキル評価」「スキルチェック」「skill review」「スキル診断」「スキル改善」。新規スキル作成後や既存スキルのメンテナンス時に使用。
---

# スキル評価・改善

スキルを作成・更新した後に実行。10点満点で多角的に評価し、具体的な修正案を提示する。

---

## Phase 1: 対象スキルの特定と読み込み

### Step 1-1: 対象の特定

引数で指定されたスキル、または直前に作成・更新したスキルを特定する。

スキルの配置場所:
- `/Users/yappa/.gemini/antigravity/skills/<skill-name>/`
- プロジェクト固有の `.agent/skills/` ディレクトリ

### Step 1-2: スキルファイルの読み込み

対象スキルの全ファイルを読み込む:
- `SKILL.md` - 必須
- `references/` - 存在すれば
- `scripts/` - 存在すれば
- `assets/` - 存在すれば

---

## Phase 2: 10点満点の評価

### 評価カテゴリ（各1点、計10点）

| #   | カテゴリ             | 評価観点                                                   |
| --- | -------------------- | ---------------------------------------------------------- |
| 1   | **目的明確性**       | スキルの目的が一読で理解できるか                           |
| 2   | **トリガー設計**     | description内にトリガー条件が具体的に記載されているか      |
| 3   | **構造適切性**       | SKILL.md + リソース構成が適切か。不要ファイルがないか      |
| 4   | **手順具体性**       | 実行手順が具体的で、Claudeが迷わず実行できるか             |
| 5   | **簡潔性**           | 冗長な説明がなく、必要最小限の記述か（context window節約） |
| 6   | **例示の質**         | 具体例があり、理解を助けているか                           |
| 7   | **エラー対処**       | 失敗時の対応やエッジケースが考慮されているか               |
| 8   | **連携設計**         | 他スキルとの連携が明記されているか（該当する場合）         |
| 9   | **出力フォーマット** | 成果物のフォーマットが明確に定義されているか               |
| 10  | **保守性**           | 将来の更新・拡張が容易な構造か                             |

### 採点基準

| 点数 | 基準                       |
| ---- | -------------------------- |
| 1    | 完璧。改善の余地なし       |
| 0.8  | 良好。軽微な改善で完成     |
| 0.5  | 普通。明確な改善点あり     |
| 0.3  | 不十分。大幅な改善が必要   |
| 0    | 未記載または重大な問題あり |

### Step 2-1: 採点の実施

各カテゴリを採点し、以下のフォーマットで出力:

```markdown
## スキル評価結果: <skill-name>

| #   | カテゴリ   | 点数       | 評価コメント |
| --- | ---------- | ---------- | ------------ |
| 1   | 目的明確性 | X/1        | ...          |
| ... | ...        | ...        | ...          |
|     | **合計**   | **X.X/10** |              |
```

### Step 2-2: 判定

| スコア  | 判定     | 推奨アクション   |
| ------- | -------- | ---------------- |
| 9.0+    | ⭐ 優秀   | そのまま使用可能 |
| 7.0-8.9 | ✅ 良好   | 軽微な改善推奨   |
| 5.0-6.9 | ⚠️ 要改善 | 修正案に従い改善 |
| <5.0    | ❌ 不合格 | 大幅な見直し必要 |

---

## Phase 3: 改善タスクリストと修正案

### Step 3-1: 問題点の抽出

0.8未満のカテゴリを改善対象として抽出し、優先度を付ける:

- **Critical（0-0.3点）**: スキルとして機能しない。即座に対応
- **Major（0.5点）**: 品質に影響。改善を強く推奨
- **Minor（0.8点）**: 品質向上のため推奨

### Step 3-2: 具体的な修正案の提示

各問題点に対して、以下を含む修正案を提示:

```markdown
## 修正案

### 1. [カテゴリ名] (優先度: Critical/Major/Minor)

**現状**: （現在の問題点）

**修正案**: （具体的に何をどう変更すべきか）

**修正後の例**:
```<修正後のコード/テキスト例>
```
```

---

## Phase 4: 自動修正の提案（オプション）

ユーザーの承認を得た上で、修正案を適用する。

### Step 4-1: 修正確認

> [!IMPORTANT]
> 自動修正を行う前に、`notify_user`で修正内容の確認を取る。

### Step 4-2: 修正の適用

承認された修正のみをスキルファイルに適用。

### Step 4-3: 再評価

修正後、Phase 2を再実行して改善を確認。

---

## Phase 5: 評価レポートの出力

```markdown
## スキル評価レポート: <skill-name>

### 評価サマリー
- **初回スコア**: X.X/10
- **改善後スコア**: Y.Y/10（修正した場合）
- **判定**: ⭐/✅/⚠️/❌

### 強み
- （良かった点）

### 改善点
- （改善すべき点）

### 修正履歴
- （適用した修正があれば）
```

---

## 他スキルとの連携

- **skill-creator**: 新規スキル作成時、作成後に本スキルで品質チェック
- **git-ops**: 修正完了後、コミット

---

## クイックリファレンス

### よくある問題パターン

| 問題             | 原因                        | 対処                         |
| ---------------- | --------------------------- | ---------------------------- |
| トリガーされない | descriptionにキーワード不足 | 具体的なトリガーワードを追加 |
| 手順が曖昧       | 抽象的な記述                | 具体例・コード例を追加       |
| context消費大    | 冗長な説明                  | 重複削除、簡潔化             |
| 連携不良         | 他スキル参照なし            | 関連スキルを明記             |
