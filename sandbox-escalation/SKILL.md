---
name: sandbox-escalation
description: サンドボックス制限により実行できない処理に遭遇した際、代替策を勝手に考えず即座にユーザーに許可・指示を求める。トリガー：Permission denied、Operation not permitted、sandbox violation、アクセス拒否、実行権限なし、ファイル書き込み不可、ネットワーク接続不可、システムコマンド失敗、sudo必要、root権限必要
---

# Sandbox Escalation Skill

サンドボックスまたは権限の制限で処理を実行できない場合、**代替策を勝手に考えることなく**、即座にユーザーにエスカレーションする。

## 原則

1. **推測禁止**: 制限に遭遇した際、ワークアラウンドや代替手段を自分で考えない
2. **即座報告**: 何ができなかったかを明確に報告し、ユーザーの判断を仰ぐ
3. **選択肢提示**: 可能な対応策があれば選択肢として提示するが、選択はユーザーに委ねる

## 対象となる制限

- ファイルシステムの権限エラー（Permission denied）
- ネットワークアクセス制限
- システムコマンドの実行制限（sudo、root権限）
- サンドボックス違反エラー
- パッケージやツールのインストール制限
- 外部APIへのアクセス制限
- デバイスへのアクセス制限

## エスカレーション手順

### 1. 制限検出時

```
⚠️ **サンドボックス制限を検出**

**試みた操作**: [何をしようとしたか]
**エラー内容**: [エラーメッセージ]
**影響**: [この制限により何ができないか]
```

### 2. ユーザーへの質問

```
以下の対応方法から選択してください：

1. **手動実行**: 以下のコマンドを手動で実行していただく
   `[必要なコマンド]`

2. **権限付与**: 必要な権限を付与して再試行
   [権限付与の方法]

3. **代替手段**: [代替手段がある場合のみ記載]

4. **スキップ**: この処理をスキップして続行

ご指示をお願いします。
```

## 重要

- **勝手に回避策を実行しない**
- ユーザーが選択するまで待機
- 選択されたオプションのみを実行
